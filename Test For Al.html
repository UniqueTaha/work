<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سایت ابزارهای کاربردی </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #0a0e29;
            --secondary: #1a1f4b;
            --accent: #6c63ff;
            --accent-light: #8a84ff;
            --text: #e2e8ff;
            --text-light: #aeb8ff;
            --success: #00ff9d;
            --warning: #ffcc00;
            --danger: #ff4d7d;
            --card-bg: rgba(26, 31, 75, 0.7);
            --star-color: rgba(255, 255, 255, 0.8);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0a0e29 0%, #1a1f4b 50%, #2d1b69 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 15px;
            overflow-x: hidden;
            position: relative;
        }
        
        /* ستاره‌های متحرک در پس‌زمینه */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, var(--star-color), transparent),
                radial-gradient(2px 2px at 40px 70px, var(--star-color), transparent),
                radial-gradient(1px 1px at 90px 40px, var(--star-color), transparent),
                radial-gradient(1px 1px at 130px 80px, var(--star-color), transparent),
                radial-gradient(2px 2px at 160px 20px, var(--star-color), transparent),
                radial-gradient(1px 1px at 200px 60px, var(--star-color), transparent);
            background-repeat: repeat;
            background-size: 250px 250px;
            z-index: -1;
            animation: twinkle 8s infinite alternate;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        /* هدر سایت */
        .header {
            text-align: center;
            padding: 20px;
            margin-bottom: 25px;
            background: rgba(10, 14, 41, 0.8);
            border-radius: 20px;
            border: 1px solid var(--accent);
            box-shadow: 0 0 30px rgba(108, 99, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(108, 99, 255, 0.1) 0%, transparent 70%);
            z-index: 0;
        }
        
        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #fff;
            text-shadow: 0 0 15px rgba(108, 99, 255, 0.7);
            position: relative;
            z-index: 1;
        }
        
        .header p {
            color: var(--text-light);
            position: relative;
            z-index: 1;
        }
        
        /* ناوبری */
        .nav-tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 25px;
            position: sticky;
            top: 10px;
            z-index: 100;
        }
        
        .tab-btn {
            padding: 12px 20px;
            background: var(--card-bg);
            border: 1px solid var(--accent);
            color: var(--text);
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            flex: 1;
            min-width: 140px;
            text-align: center;
            backdrop-filter: blur(5px);
        }
        
        .tab-btn:hover {
            background: rgba(108, 99, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(108, 99, 255, 0.4);
        }
        
        .tab-btn.active {
            background: var(--accent);
            box-shadow: 0 0 20px rgba(108, 99, 255, 0.7);
        }
        
        /* بخش‌های محتوا */
        .content-section {
            display: none;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid rgba(108, 99, 255, 0.3);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .content-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--accent-light);
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid rgba(108, 99, 255, 0.3);
            padding-bottom: 10px;
        }
        
        /* ماشین حساب پیشرفته */
        .calculator {
            background: rgba(15, 20, 50, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(108, 99, 255, 0.2);
        }
        
        .calculator-display {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: left;
            border: 1px solid rgba(108, 99, 255, 0.3);
            font-family: 'Courier New', monospace;
            min-height: 100px;
            overflow-wrap: break-word;
        }
        
        .calculation {
            font-size: 1.2rem;
            color: var(--text-light);
            min-height: 30px;
            overflow-x: auto;
            white-space: nowrap;
        }
        
        .result {
            font-size: 2rem;
            color: var(--success);
            text-align: right;
            margin-top: 10px;
            text-shadow: 0 0 10px rgba(0, 255, 157, 0.5);
        }
        
        .calculator-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }
        
        .calc-btn {
            padding: 18px 10px;
            background: rgba(26, 31, 75, 0.9);
            border: 1px solid rgba(108, 99, 255, 0.3);
            color: var(--text);
            border-radius: 10px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .calc-btn:hover {
            background: rgba(108, 99, 255, 0.3);
            transform: scale(1.05);
        }
        
        .calc-btn.operator {
            background: rgba(108, 99, 255, 0.4);
            color: var(--accent-light);
        }
        
        .calc-btn.function {
            background: rgba(255, 77, 125, 0.3);
            color: #ff8fab;
        }
        
        .calc-btn.equals {
            background: var(--success);
            color: #000;
            font-weight: bold;
            grid-column: span 2;
        }
        
        /* مبدل واحدها */
        .converter-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }
        
        .converter-box {
            background: rgba(15, 20, 50, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(108, 99, 255, 0.2);
        }
        
        .converter-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--accent-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .converter-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .converter-input {
            flex: 1;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(108, 99, 255, 0.4);
            color: var(--text);
            border-radius: 10px;
            font-size: 1.1rem;
            min-width: 150px;
        }
        
        .converter-select {
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(108, 99, 255, 0.4);
            color: var(--text);
            border-radius: 10px;
            font-size: 1rem;
            min-width: 120px;
        }
        
        .converter-result {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            border-left: 5px solid var(--accent);
            font-size: 1.3rem;
            color: var(--success);
            text-align: center;
        }
        
        /* هوش مصنوعی */
        .ai-chat-container {
            background: rgba(15, 20, 50, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(108, 99, 255, 0.2);
        }
        
        .ai-input-row {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        #aiPrompt {
            flex: 1;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(108, 99, 255, 0.4);
            color: var(--text);
            border-radius: 10px;
            font-size: 1rem;
            min-width: 200px;
        }
        
        #aiBtn {
            padding: 15px 30px;
            background: linear-gradient(to left, var(--accent), #5249d6);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        #aiBtn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(108, 99, 255, 0.5);
        }
        
        #aiBtn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        #aiOutput {
            margin-top: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            min-height: 250px;
            border: 1px solid rgba(108, 99, 255, 0.2);
            line-height: 1.6;
            white-space: pre-wrap;
        }
        
        #aiStatus {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-top: 15px;
            min-height: 20px;
        }
        
        /* سایر ابزارها */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .tool-card {
            background: rgba(15, 20, 50, 0.8);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(108, 99, 255, 0.2);
            transition: all 0.3s;
        }
        
        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(108, 99, 255, 0.3);
        }
        
        .tool-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--accent-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .tool-input {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(108, 99, 255, 0.4);
            color: var(--text);
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 1rem;
        }
        
        .tool-btn {
            width: 100%;
            padding: 12px;
            background: rgba(108, 99, 255, 0.4);
            border: none;
            color: var(--text);
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .tool-btn:hover {
            background: rgba(108, 99, 255, 0.6);
        }
        
        .tool-result {
            margin-top: 15px;
            padding: 12px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 8px;
            text-align: center;
            font-size: 1.1rem;
            color: var(--success);
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* فوتر */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            color: var(--text-light);
            font-size: 0.9rem;
            border-top: 1px solid rgba(108, 99, 255, 0.2);
        }
        
        /* ریسپانسیو */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.7rem;
            }
            
            .tab-btn {
                min-width: 120px;
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .calculator-buttons {
                grid-template-columns: repeat(4, 1fr);
                gap: 8px;
            }
            
            .calc-btn {
                padding: 15px 5px;
                font-size: 1rem;
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }
            
            .converter-row {
                flex-direction: column;
                align-items: stretch;
            }
            
            .converter-input, .converter-select {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .calculator-buttons {
                grid-template-columns: repeat(4, 1fr);
                gap: 6px;
            }
            
            .calc-btn {
                padding: 12px 5px;
                font-size: 0.9rem;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <!-- هدر سایت -->
    <div class="header">
        <h1><i class="fas fa-star"></i> ابزارهای کاربردی <i class="fas fa-star"></i></h1>
        <p>مجموعه‌ای از ابزارهای کاربردی برای استفاده روزمره - کاملاً واکنش‌گرا و مناسب موبایل</p>
    </div>
    
    <!-- ناوبری -->
    <div class="nav-tabs">
        <button class="tab-btn active" data-tab="calculator"><i class="fas fa-calculator"></i> ماشین حساب</button>
        <button class="tab-btn" data-tab="converter"><i class="fas fa-exchange-alt"></i> تبدیل واحد</button>
        <button class="tab-btn" data-tab="ai"><i class="fas fa-robot"></i> هوش مصنوعی</button>
        <button class="tab-btn" data-tab="tools"><i class="fas fa-tools"></i> سایر ابزارها</button>
    </div>
    
    <!-- بخش ماشین حساب -->
    <section id="calculator" class="content-section active">
        <h2 class="section-title"><i class="fas fa-calculator"></i> ماشین حساب پیشرفته</h2>
        <div class="calculator">
            <div class="calculator-display">
                <div class="calculation" id="calc-calculation">0</div>
                <div class="result" id="calc-result">0</div>
            </div>
            <div class="calculator-buttons">
                <button class="calc-btn function" onclick="calcClear()">C</button>
                <button class="calc-btn function" onclick="calcDelete()"><i class="fas fa-backspace"></i></button>
                <button class="calc-btn function" onclick="calcInput('(')">(</button>
                <button class="calc-btn function" onclick="calcInput(')')">)</button>
                
                <button class="calc-btn" onclick="calcInput('7')">7</button>
                <button class="calc-btn" onclick="calcInput('8')">8</button>
                <button class="calc-btn" onclick="calcInput('9')">9</button>
                <button class="calc-btn operator" onclick="calcInput('/')">÷</button>
                
                <button class="calc-btn" onclick="calcInput('4')">4</button>
                <button class="calc-btn" onclick="calcInput('5')">5</button>
                <button class="calc-btn" onclick="calcInput('6')">6</button>
                <button class="calc-btn operator" onclick="calcInput('*')">×</button>
                
                <button class="calc-btn" onclick="calcInput('1')">1</button>
                <button class="calc-btn" onclick="calcInput('2')">2</button>
                <button class="calc-btn" onclick="calcInput('3')">3</button>
                <button class="calc-btn operator" onclick="calcInput('-')">−</button>
                
                <button class="calc-btn" onclick="calcInput('0')">0</button>
                <button class="calc-btn" onclick="calcInput('.')">.</button>
                <button class="calc-btn operator" onclick="calcInput('%')">%</button>
                <button class="calc-btn operator" onclick="calcInput('+')">+</button>
                
                <button class="calc-btn function" onclick="calcInput('Math.sin(')">sin</button>
                <button class="calc-btn function" onclick="calcInput('Math.cos(')">cos</button>
                <button class="calc-btn function" onclick="calcInput('Math.sqrt(')">√</button>
                <button class="calc-btn equals" onclick="calcCalculate()"><i class="fas fa-equals"></i> محاسبه</button>
            </div>
        </div>
        <div style="margin-top: 20px; color: var(--text-light); font-size: 0.9rem;">
            <i class="fas fa-info-circle"></i> امکان استفاده از توابع ریاضی مثل sin، cos، sqrt و پرانتزگذاری وجود دارد.
        </div>
    </section>
    
    <!-- بخش تبدیل واحد -->
    <section id="converter" class="content-section">
        <h2 class="section-title"><i class="fas fa-exchange-alt"></i> تبدیل واحدهای اندازه‌گیری</h2>
        <div class="converter-container">
            <!-- تبدیل طول -->
            <div class="converter-box">
                <h3 class="converter-title"><i class="fas fa-ruler"></i> تبدیل طول</h3>
                <div class="converter-row">
                    <input type="number" class="converter-input" id="lengthValue" placeholder="مقدار" value="1">
                    <select class="converter-select" id="lengthFrom">
                        <option value="m">متر (m)</option>
                        <option value="km">کیلومتر (km)</option>
                        <option value="cm">سانتی‌متر (cm)</option>
                        <option value="mm">میلی‌متر (mm)</option>
                        <option value="mile">مایل</option>
                        <option value="yard">یارد</option>
                        <option value="foot">فوت</option>
                        <option value="inch">اینچ</option>
                    </select>
                    <span>به</span>
                    <select class="converter-select" id="lengthTo">
                        <option value="km">کیلومتر (km)</option>
                        <option value="m" selected>متر (m)</option>
                        <option value="cm">سانتی‌متر (cm)</option>
                        <option value="mm">میلی‌متر (mm)</option>
                        <option value="mile">مایل</option>
                        <option value="yard">یارد</option>
                        <option value="foot">فوت</option>
                        <option value="inch">اینچ</option>
                    </select>
                    <button class="tool-btn" onclick="convertLength()">تبدیل</button>
                </div>
                <div class="converter-result" id="lengthResult">نتیجه اینجا نمایش داده می‌شود</div>
            </div>
            
            <!-- تبدیل وزن -->
            <div class="converter-box">
                <h3 class="converter-title"><i class="fas fa-weight"></i> تبدیل وزن</h3>
                <div class="converter-row">
                    <input type="number" class="converter-input" id="weightValue" placeholder="مقدار" value="1">
                    <select class="converter-select" id="weightFrom">
                        <option value="kg">کیلوگرم (kg)</option>
                        <option value="g">گرم (g)</option>
                        <option value="mg">میلی‌گرم (mg)</option>
                        <option value="ton">تن</option>
                        <option value="pound">پوند</option>
                        <option value="ounce">اونس</option>
                    </select>
                    <span>به</span>
                    <select class="converter-select" id="weightTo">
                        <option value="g">گرم (g)</option>
                        <option value="kg" selected>کیلوگرم (kg)</option>
                        <option value="mg">میلی‌گرم (mg)</option>
                        <option value="ton">تن</option>
                        <option value="pound">پوند</option>
                        <option value="ounce">اونس</option>
                    </select>
                    <button class="tool-btn" onclick="convertWeight()">تبدیل</button>
                </div>
                <div class="converter-result" id="weightResult">نتیجه اینجا نمایش داده می‌شود</div>
            </div>
            
            <!-- تبدیل دما -->
            <div class="converter-box">
                <h3 class="converter-title"><i class="fas fa-thermometer-half"></i> تبدیل دما</h3>
                <div class="converter-row">
                    <input type="number" class="converter-input" id="tempValue" placeholder="مقدار" value="0">
                    <select class="converter-select" id="tempFrom">
                        <option value="c">سلسیوس (°C)</option>
                        <option value="f">فارنهایت (°F)</option>
                        <option value="k">کلوین (K)</option>
                    </select>
                    <span>به</span>
                    <select class="converter-select" id="tempTo">
                        <option value="f">فارنهایت (°F)</option>
                        <option value="c" selected>سلسیوس (°C)</option>
                        <option value="k">کلوین (K)</option>
                    </select>
                    <button class="tool-btn" onclick="convertTemperature()">تبدیل</button>
                </div>
                <div class="converter-result" id="tempResult">نتیجه اینجا نمایش داده می‌شود</div>
            </div>
        </div>
    </section>
    
    <!-- بخش هوش مصنوعی -->
    <section id="ai" class="content-section">
        <h2 class="section-title"><i class="fas fa-robot"></i> چت‌بات هوشمند </h2>
        <div class="ai-chat-container">
            <p>از این بخش می‌توانید برای پرسش سوالات از  هوش مصنوعی استفاده کنید.</p>
            
            <div class="ai-input-row">
                <textarea id="aiPrompt" placeholder="سوال خود را بپرسید..." rows="3">درمود تاریخ ایران بگو ؟</textarea>
                <button id="aiBtn" onclick="startChat()">ارسال سوال</button>
            </div>
            
            <div id="aiStatus">آماده برای دریافت سوال شما...</div>
            
            <div id="aiOutput">
                پاسخ هوش مصنوعی در اینجا نمایش داده خواهد شد.
                
                
  
            </div>
        </div>
    </section>
    
    <!-- سایر ابزارها -->
    <section id="tools" class="content-section">
        <h2 class="section-title"><i class="fas fa-tools"></i> سایر ابزارهای کاربردی</h2>
        <div class="tools-grid">
            <!-- مولد رمز عبور -->
            <div class="tool-card">
                <h3 class="tool-title"><i class="fas fa-key"></i> مولد رمز عبور</h3>
                <div style="margin-bottom: 15px;">
                    <label>طول رمز عبور:</label>
                    <input type="range" id="passLength" min="6" max="20" value="12" class="tool-input">
                    <div style="display: flex; justify-content: space-between;">
                        <span>6</span>
                        <span id="passLengthValue">12</span>
                        <span>20</span>
                    </div>
                </div>
                <div style="margin-bottom: 15px;">
                    <label><input type="checkbox" id="useUpper" checked> حروف بزرگ</label>
                    <label><input type="checkbox" id="useLower" checked> حروف کوچک</label>
                    <label><input type="checkbox" id="useNumbers" checked> اعداد</label>
                    <label><input type="checkbox" id="useSymbols"> نمادها</label>
                </div>
                <button class="tool-btn" onclick="generatePassword()">تولید رمز عبور</button>
                <div class="tool-result" id="passwordResult">رمز عبور اینجا نمایش داده می‌شود</div>
            </div>
            
            <!-- مولد اعداد تصادفی -->
            <div class="tool-card">
                <h3 class="tool-title"><i class="fas fa-random"></i> مولد اعداد تصادفی</h3>
                <div class="converter-row">
                    <input type="number" class="converter-input" id="randomMin" placeholder="حداقل" value="1">
                    <input type="number" class="converter-input" id="randomMax" placeholder="حداکثر" value="100">
                </div>
                <button class="tool-btn" onclick="generateRandom()">تولید عدد تصادفی</button>
                <div class="tool-result" id="randomResult">عدد تصادفی اینجا نمایش داده می‌شود</div>
            </div>
            
            <!-- ماشین حساب درصد -->
            <div class="tool-card">
                <h3 class="tool-title"><i class="fas fa-percentage"></i> ماشین حساب درصد</h3>
                <input type="number" class="tool-input" id="percentValue" placeholder="عدد اصلی" value="100">
                <input type="number" class="tool-input" id="percentAmount" placeholder="درصد" value="10">
                <button class="tool-btn" onclick="calculatePercent()">محاسبه درصد</button>
                <div class="tool-result" id="percentResult">نتیجه اینجا نمایش داده می‌شود</div>
            </div>
            
            <!-- تبدیل متن به حروف بزرگ/کوچک -->
            <div class="tool-card">
                <h3 class="tool-title"><i class="fas fa-font"></i> تبدیل متن</h3>
                <textarea class="tool-input" id="textInput" placeholder="متن خود را وارد کنید" rows="3">متن نمونه برای تبدیل</textarea>
                <div class="converter-row">
                    <button class="tool-btn" onclick="convertToUpper()">حروف بزرگ</button>
                    <button class="tool-btn" onclick="convertToLower()">حروف کوچک</button>
                </div>
                <div class="tool-result" id="textResult">متن تبدیل شده اینجا نمایش داده می‌شود</div>
            </div>
        </div>
    </section>
    
    <!-- فوتر -->
    <div class="footer">
        <p>© 2026توسعه دهنده  Unique_Taha <i class="fas fa-heart" style="color:#ff4d7d;"></i></p>
        
    </div>

    <script>
        // ==================== مدیریت تب‌ها ====================
        document.querySelectorAll('.tab-btn').forEach(button => {
            button.addEventListener('click', () => {
                // حذف کلاس active از همه تب‌ها
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // مخفی کردن همه بخش‌ها
                document.querySelectorAll('.content-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // فعال کردن تب و بخش انتخابی
                button.classList.add('active');
                const tabId = button.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });
        
        // ==================== ماشین حساب پیشرفته ====================
        let calcCalculation = '0';
        let calcResult = '0';
        
        function calcInput(value) {
            if (calcCalculation === '0' && value !== '.') {
                calcCalculation = value;
            } else {
                calcCalculation += value;
            }
            updateCalcDisplay();
        }
        
        function calcClear() {
            calcCalculation = '0';
            calcResult = '0';
            updateCalcDisplay();
        }
        
        function calcDelete() {
            if (calcCalculation.length > 1) {
                calcCalculation = calcCalculation.slice(0, -1);
            } else {
                calcCalculation = '0';
            }
            updateCalcDisplay();
        }
        
        function calcCalculate() {
            try {
                // جایگزینی نمادهای ریاضی برای eval
                let expression = calcCalculation
                    .replace(/×/g, '*')
                    .replace(/÷/g, '/')
                    .replace(/%/g, '/100')
                    .replace(/√/g, 'Math.sqrt');
                
                // محاسبه نتیجه
                calcResult = eval(expression);
                
                // نمایش نتیجه با فرمت مناسب
                if (calcResult.toString().length > 12) {
                    calcResult = calcResult.toExponential(6);
                }
                
                updateCalcDisplay();
            } catch (error) {
                calcResult = 'خطا!';
                updateCalcDisplay();
            }
        }
        
        function updateCalcDisplay() {
            document.getElementById('calc-calculation').textContent = calcCalculation;
            document.getElementById('calc-result').textContent = calcResult;
        }
        
        // ==================== تبدیل واحدها ====================
        // تبدیل طول
        function convertLength() {
            const value = parseFloat(document.getElementById('lengthValue').value);
            const from = document.getElementById('lengthFrom').value;
            const to = document.getElementById('lengthTo').value;
            
            // تبدیل به متر (واحد پایه)
            let valueInMeters = value;
            
            switch(from) {
                case 'km': valueInMeters = value * 1000; break;
                case 'cm': valueInMeters = value / 100; break;
                case 'mm': valueInMeters = value / 1000; break;
                case 'mile': valueInMeters = value * 1609.34; break;
                case 'yard': valueInMeters = value * 0.9144; break;
                case 'foot': valueInMeters = value * 0.3048; break;
                case 'inch': valueInMeters = value * 0.0254; break;
                // متر بدون تغییر
            }
            
            // تبدیل از متر به واحد مقصد
            let result = valueInMeters;
            
            switch(to) {
                case 'km': result = valueInMeters / 1000; break;
                case 'cm': result = valueInMeters * 100; break;
                case 'mm': result = valueInMeters * 1000; break;
                case 'mile': result = valueInMeters / 1609.34; break;
                case 'yard': result = valueInMeters / 0.9144; break;
                case 'foot': result = valueInMeters / 0.3048; break;
                case 'inch': result = valueInMeters / 0.0254; break;
                // متر بدون تغییر
            }
            
            document.getElementById('lengthResult').innerHTML = 
                `<strong>${value} ${getUnitName(from)} = ${result.toFixed(2)} ${getUnitName(to)}</strong>`;
        }
        
        // تبدیل وزن
        function convertWeight() {
            const value = parseFloat(document.getElementById('weightValue').value);
            const from = document.getElementById('weightFrom').value;
            const to = document.getElementById('weightTo').value;
            
            // تبدیل به کیلوگرم (واحد پایه)
            let valueInKg = value;
            
            switch(from) {
                case 'g': valueInKg = value / 1000; break;
                case 'mg': valueInKg = value / 1000000; break;
                case 'ton': valueInKg = value * 1000; break;
                case 'pound': valueInKg = value * 0.453592; break;
                case 'ounce': valueInKg = value * 0.0283495; break;
                // کیلوگرم بدون تغییر
            }
            
            // تبدیل از کیلوگرم به واحد مقصد
            let result = valueInKg;
            
            switch(to) {
                case 'g': result = valueInKg * 1000; break;
                case 'mg': result = valueInKg * 1000000; break;
                case 'ton': result = valueInKg / 1000; break;
                case 'pound': result = valueInKg / 0.453592; break;
                case 'ounce': result = valueInKg / 0.0283495; break;
                // کیلوگرم بدون تغییر
            }
            
            document.getElementById('weightResult').innerHTML = 
                `<strong>${value} ${getUnitName(from)} = ${result.toFixed(2)} ${getUnitName(to)}</strong>`;
        }
        
        // تبدیل دما
        function convertTemperature() {
            const value = parseFloat(document.getElementById('tempValue').value);
            const from = document.getElementById('tempFrom').value;
            const to = document.getElementById('tempTo').value;
            
            // تبدیل به سلسیوس (واحد پایه)
            let valueInCelsius = value;
            
            if (from === 'f') {
                valueInCelsius = (value - 32) * 5/9;
            } else if (from === 'k') {
                valueInCelsius = value - 273.15;
            }
            
            // تبدیل از سلسیوس به واحد مقصد
            let result = valueInCelsius;
            let symbol = '°C';
            
            if (to === 'f') {
                result = (valueInCelsius * 9/5) + 32;
                symbol = '°F';
            } else if (to === 'k') {
                result = valueInCelsius + 273.15;
                symbol = 'K';
            }
            
            document.getElementById('tempResult').innerHTML = 
                `<strong>${value}${getTempSymbol(from)} = ${result.toFixed(2)}${symbol}</strong>`;
        }
        
        // تابع کمکی برای نام واحدها
        function getUnitName(unit) {
            const units = {
                'm': 'متر', 'km': 'کیلومتر', 'cm': 'سانتی‌متر', 'mm': 'میلی‌متر',
                'mile': 'مایل', 'yard': 'یارد', 'foot': 'فوت', 'inch': 'اینچ',
                'kg': 'کیلوگرم', 'g': 'گرم', 'mg': 'میلی‌گرم', 'ton': 'تن',
                'pound': 'پوند', 'ounce': 'اونس'
            };
            return units[unit] || unit;
        }
        
        // تابع کمکی برای نماد دما
        function getTempSymbol(temp) {
            if (temp === 'c') return '°C';
            if (temp === 'f') return '°F';
            if (temp === 'k') return 'K';
            return '';
        }
        
        // ==================== هوش مصنوعی ====================
        const API_KEY = "AIzaSyBv811vM9QazK4O_hlQaP4sE7O3tyY1KOg";
        const PROXY = "https://corsproxy.io/?";
        
        async function startChat() {
            const prompt = document.getElementById('aiPrompt').value;
            const output = document.getElementById('aiOutput');
            const status = document.getElementById('aiStatus');
            const btn = document.getElementById('aiBtn');
            
            if(!prompt) return;
            btn.disabled = true;
            btn.textContent = "در حال پردازش...";
            output.innerText = "در حال اتصال به سرورهای هوش مصنوعی...";
            
            try {
                // مرحله ۱: پیدا کردن لیست مدل‌های فعال
                status.innerText = "دریافت لیست مدل‌های مجاز از گوگل...";
                const listUrl = `https://generativelanguage.googleapis.com/v1beta/models?key=${API_KEY}`;
                const listRes = await fetch(PROXY + encodeURIComponent(listUrl));
                const listData = await listRes.json();
                
                if (!listData.models) throw new Error("لیست مدل‌ها دریافت نشد.");
                
                // پیدا کردن مدلی که قابلیت تولید محتوا داشته باشد
                const availableModel = listData.models.find(m => m.supportedGenerationMethods && m.supportedGenerationMethods.includes("generateContent"));
                
                if (!availableModel) throw new Error("هیچ مدلی برای اکانت شما فعال نیست.");
                
                const modelName = availableModel.name;
                status.innerText = "استفاده از مدل پیدا شده: " + modelName.split('/')[1];
                
                // مرحله ۲: ارسال پرسش به مدل پیدا شده
                const chatUrl = `https://generativelanguage.googleapis.com/v1beta/${modelName}:generateContent?key=${API_KEY}`;
                const chatRes = await fetch(PROXY + encodeURIComponent(chatUrl), {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        contents: [{ 
                            parts: [{ text: prompt }] 
                        }],
                        generationConfig: {
                            temperature: 0.7,
                            maxOutputTokens: 1000,
                        }
                    })
                });
                
                const chatData = await chatRes.json();
                
                if (chatData.error) throw new Error(chatData.error.message);
                
                output.innerText = chatData.candidates[0].content.parts[0].text;
                status.innerText = "پاسخ دریافت شد.";
                
            } catch (e) {
                output.innerHTML = `<span style="color: #ff4d7d">خطا: ${e.message}</span>`;
                status.innerText = "عملیات متوقف شد.";
            } finally {
                btn.disabled = false;
                btn.textContent = "ارسال سوال";
            }
        }
        
        // ==================== سایر ابزارها ====================
        // مولد رمز عبور
        function generatePassword() {
            const length = parseInt(document.getElementById('passLength').value);
            const useUpper = document.getElementById('useUpper').checked;
            const useLower = document.getElementById('useLower').checked;
            const useNumbers = document.getElementById('useNumbers').checked;
            const useSymbols = document.getElementById('useSymbols').checked;
            
            let chars = '';
            if (useUpper) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if (useLower) chars += 'abcdefghijklmnopqrstuvwxyz';
            if (useNumbers) chars += '0123456789';
            if (useSymbols) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';
            
            if (chars === '') {
                document.getElementById('passwordResult').textContent = "لطفاً حداقل یک گزینه را انتخاب کنید";
                return;
            }
            
            let password = '';
            for (let i = 0; i < length; i++) {
                password += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            document.getElementById('passwordResult').innerHTML = 
                `<strong>${password}</strong><br><small style="color: #aeb8ff;">برای کپی کلیک کنید</small>`;
            
            // امکان کپی کردن رمز عبور
            document.getElementById('passwordResult').onclick = function() {
                navigator.clipboard.writeText(password).then(() => {
                    const original = this.innerHTML;
                    this.innerHTML = "<strong>رمز عبور کپی شد!</strong>";
                    setTimeout(() => { this.innerHTML = original; }, 2000);
                });
            };
        }
        
        // نمایش مقدار طول رمز عبور
        document.getElementById('passLength').addEventListener('input', function() {
            document.getElementById('passLengthValue').textContent = this.value;
        });
        
        // مولد اعداد تصادفی
        function generateRandom() {
            const min = parseInt(document.getElementById('randomMin').value);
            const max = parseInt(document.getElementById('randomMax').value);
            
            if (min >= max) {
                document.getElementById('randomResult').textContent = "حداقل باید کمتر از حداکثر باشد";
                return;
            }
            
            const randomNum = Math.floor(Math.random() * (max - min + 1)) + min;
            document.getElementById('randomResult').innerHTML = 
                `<strong>${randomNum}</strong><br><small>بین ${min} و ${max}</small>`;
        }
        
        // ماشین حساب درصد
        function calculatePercent() {
            const value = parseFloat(document.getElementById('percentValue').value);
            const percent = parseFloat(document.getElementById('percentAmount').value);
            
            const result = (value * percent) / 100;
            const percentOf = `${percent}% از ${value}`;
            const addition = `${value} + ${percent}% = ${(value + result).toFixed(2)}`;
            const subtraction = `${value} - ${percent}% = ${(value - result).toFixed(2)}`;
            
            document.getElementById('percentResult').innerHTML = 
                `<strong>${percentOf} = ${result.toFixed(2)}</strong><br>
                 <small>${addition}<br>${subtraction}</small>`;
        }
        
        // تبدیل متن
        function convertToUpper() {
            const text = document.getElementById('textInput').value;
            document.getElementById('textResult').innerHTML = 
                `<strong>${text.toUpperCase()}</strong>`;
        }
        
        function convertToLower() {
            const text = document.getElementById('textInput').value;
            document.getElementById('textResult').innerHTML = 
                `<strong>${text.toLowerCase()}</strong>`;
        }
        
        // ==================== مقداردهی اولیه ====================
        // اجرای اولیه برخی توابع
        window.onload = function() {
            convertLength();
            convertWeight();
            convertTemperature();
            generatePassword();
            generateRandom();
            calculatePercent();
            
            // اضافه کردن امکان ارسال با Enter در هوش مصنوعی
            document.getElementById('aiPrompt').addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    startChat();
                }
            });
        };
    </script>
</body>
</html>